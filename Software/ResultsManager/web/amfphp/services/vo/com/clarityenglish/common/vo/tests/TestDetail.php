<?php
class TestDetail {
	
	/*
	 * AMFPHP Custom Class mapping
	 */
	var $_explicitType = 'com.clarityenglish.common.vo.tests.TestDetail';
	
	var $testDetailId;
	var $testId;
	var $groupId;
	var $caption;
	var $startConditions;
	var $startTime;
	var $closeTime;
	var $language;
	var $showResult;
	
	function TestDetail($dbObj = null) {
		if ($dbObj)
			$this->fromDatabaseObj($dbObj);
	}
	
	/*
	 * Take the information out of $obj (generated by AdoDB FetchNextObject()) and set the attributes of this object based on it
	 *
	 * @param obj The object returned for the record by FetchNextObject()
	 */
	function fromDatabaseObj($obj) {
		$this->testDetailId = intval($obj->F_TestDetailID);
		$this->testId = $obj->F_TestID;
		$this->groupId = intval($obj->F_GroupID);
		$this->caption = $obj->F_Caption;
		$this->startConditions = $obj->F_StartConditions;
		$this->startTime = $obj->F_ScheduledStartTime;
		$this->closeTime = $obj->F_CloseTime;
		$this->language = $obj->F_Language;
		$this->showResult = filter_var($obj->F_ShowResult, FILTER_VALIDATE_BOOLEAN);
	}
	
	/**
	 * Convert this object to an associative array ready to pass to AutoExecute
	 *
	 * @param for_update If this array is destined for an update AutoExecute don't include the identity column as this breaks MSSQL
	 */
	function toAssocArray() {
		$array = array();
		
		if ($this->testDetailId)
		    $array['F_TestDetailID'] = $this->testDetailId;
		$array['F_GroupID'] = $this->groupId;
		$array['F_TestID'] = $this->testId;
		$array['F_Caption'] = $this->caption;
		$array['F_StartConditions'] = $this->startConditions;
		$array['F_ScheduledStartTime'] = $this->startTime;
		$array['F_CloseTime'] = $this->closeTime;
		$array['F_Language'] = $this->language;
		$array['F_ShowResult'] = intval($this->showResult);
		
		return $array;
	}
	
	
}
