<?xml version="1.0" encoding="utf-8"?>
<s:Skin xmlns:fx="http://ns.adobe.com/mxml/2009" 
		xmlns:s="library://ns.adobe.com/flex/spark" 
		xmlns:mx="library://ns.adobe.com/flex/mx"
		xmlns:ui="com.clarityenglish.rotterdam.view.unit.ui.*" xmlns:layouts="com.clarityenglish.clearpronunciation.view.course.layouts.*" creationComplete="onCreationComplete(event)" xmlns:core="org.davekeen.core.*">
	<!-- host component -->
	<fx:Metadata>
		[HostComponent("com.clarityenglish.clearpronunciation.view.unit.UnitView")]
	</fx:Metadata>
	
	<fx:Script>
		<![CDATA[
			import mx.events.EffectEvent;
			import mx.events.FlexEvent;
			protected function onMakeSoundsExpandClick(event:MouseEvent):void
			{
				// TODO Auto-generated method stub
				makeSoundsExpandAnimation.play();
				buttonGroupUpAnimation.play();
			}
			
			protected function onMakeSoundsCollapseClick(event:MouseEvent):void {
				makeSoundsCollapseAnimation.play();
				buttonGroupDownAniamtion.play();
			}
			
			protected function onMakeSoundsExpandAnimationEnd(event:EffectEvent):void
			{
				// TODO Auto-generated method stub
				makeSoundsExpandButton.visible = false;				
				makeSoundsCollapseButton.visible = true;
				practiseSoundVGroup.visible = false;
			}
			
			protected function onMakeSoundsCollapseEnd(event:EffectEvent):void {
				makeSoundsExpandButton.visible = true;				
				makeSoundsCollapseButton.visible = false;
			}
			
			protected function onCreationComplete(event:FlexEvent):void
			{
				// TODO Auto-generated method stub
				makeSoundsGroup.top = height;
				expandCollapseGroup.top = height - 50;
			}
			
			protected function onButtonGroupDownStart(event:EffectEvent):void
			{
				// TODO Auto-generated method stub
				practiseSoundVGroup.visible = true;
			}
			
		]]>
	</fx:Script>	
	
	<fx:Declarations>
		<s:Animate id="makeSoundsExpandAnimation" target="{makeSoundsGroup}" duration="600" effectEnd="onMakeSoundsExpandAnimationEnd(event)">
			<s:SimpleMotionPath property="top" valueTo="-1" />
		</s:Animate>
		
		<s:Animate id="buttonGroupUpAnimation" target="{expandCollapseGroup}" duration="600">
			<s:SimpleMotionPath property="top" valueTo="0" />
 		</s:Animate>
		
		<s:Animate id="makeSoundsCollapseAnimation" target="{makeSoundsGroup}" duration="600" effectEnd="onMakeSoundsCollapseEnd(event)">
			<s:SimpleMotionPath property="top" valueTo="{height}" />
		</s:Animate>
		
		<s:Animate id="buttonGroupDownAniamtion" target="{expandCollapseGroup}" duration="600" effectStart="onButtonGroupDownStart(event)">
			<s:SimpleMotionPath property="top" valueTo="{height - 50}" />
		</s:Animate>
	</fx:Declarations>
	
	<!-- states -->
	<s:states>
		<s:State name="disabled" />
		<s:State name="normal" />
	</s:states>
	
	<!--background color-->
	<s:Rect left="0" right="0" top="0" bottom="0">
		<s:fill>
			<s:SolidColor color="#FFFFFF" />
		</s:fill>
	</s:Rect>
	
	<s:VGroup id="practiseSoundVGroup" width="100%" height="100%" gap="20">
		<s:Label id="practiseSoundsLabel" fontFamily="Mgbold" fontWeight="bold" paddingTop="80" paddingLeft="30" fontSize="20" />
		<ui:WidgetList id="practiseSoundsList" width="100%" height="80%" dataProvider="{hostComponent.practiseSoundsCollection}" borderVisible="false" useVirtualLayout="false" contentBackgroundColor="#FFFFFF">
			<ui:layout>
				<layouts:FreeUnitLayout />
			</ui:layout>
		</ui:WidgetList>
	</s:VGroup>
	
	<s:Group id="makeSoundsGroup" width="100%" height="100%">
		<s:Rect left="-1" right="-1" height="100%">
			<s:fill>
				<s:SolidColor color="#FFFFFF" />
			</s:fill>
			<s:stroke>
				<s:SolidColorStroke color="#000000" />
			</s:stroke>
		</s:Rect>
		<s:VGroup width="100%" height="100%" gap="30">
			<s:Label id="makeSoundsLabel" fontFamily="Mgbold" fontWeight="bold" paddingTop="80" paddingLeft="30" left="30" fontSize="20" />
			<s:VGroup paddingLeft="30">
				<s:SWFLoader source="@Embed(source='skins/clearpronunciation/assets/course/animationInstruction.png')" />
			</s:VGroup>	
			<ui:WidgetList id="makeSoundsList" width="100%" height="85%" dataProvider="{hostComponent.makeSoundsListCollection}" borderVisible="false" useVirtualLayout="false" contentBackgroundColor="#FFFFFF">
				<ui:layout>
					<layouts:FreeUnitLayout />
				</ui:layout>
			</ui:WidgetList>
		</s:VGroup>	
	</s:Group>
	
	<s:Group id="expandCollapseGroup" right="0" visible="{!hostComponent.isPlatformiPad}">
		<s:Button id="makeSoundsExpandButton" click="onMakeSoundsExpandClick(event)" useHandCursor="true" buttonMode="true" />
		<s:Button id="makeSoundsCollapseButton" click="onMakeSoundsCollapseClick(event)" visible="false" useHandCursor="true" buttonMode="true" />
	</s:Group>
	
</s:Skin>
