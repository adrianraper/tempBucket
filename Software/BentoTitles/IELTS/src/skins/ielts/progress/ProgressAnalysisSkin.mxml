<?xml version="1.0" encoding="utf-8"?>
<s:Skin xmlns:fx="http://ns.adobe.com/mxml/2009"
		xmlns:s="library://ns.adobe.com/flex/spark"
		xmlns:mx="library://ns.adobe.com/flex/mx"
		xmlns:ui="com.clarityenglish.bento.view.progress.ui.*"
		creationComplete="onCreationComplete(event)">
	<!-- host component -->
	<fx:Metadata>
		[HostComponent("com.clarityenglish.bento.view.progress.components.ProgressAnalysisView")]
	</fx:Metadata>
	
	<fx:Script>
		<![CDATA[
			import com.clarityenglish.bento.view.progress.components.ProgressAnalysisView;
			
			import mx.events.FlexEvent;
			
			protected function onCreationComplete(event:FlexEvent):void {
				hostComponent.type = ProgressAnalysisView.COURSE_BASED;
			}
		]]>
	</fx:Script>
	
	<s:states>
		<s:State name="disabled" />
		
		<s:State name="normal" />
		<s:State name="blocked" />
		<s:State name="blockedScore" />
		<s:State name="blockedDuration" />
		<s:State name="demo"  />
	</s:states>
	
	<s:Label id="analysisInstructionLabel1" left="20" top="90" />
	<s:Label id="analysisTimeLabel" fontSize="16" left="20" top="150" />
	
	<ui:StackedBarChart id="stackedChart" top="150" height="35" left="20" width="{durationDataGroup.width}"
						colours="{[getStyle('readingColor'), getStyle('listeningColor'), getStyle('speakingColor'), getStyle('writingColor')]}" />
	
	<s:DataGroup id="durationDataGroup" left="20" top="220">
		<s:layout>
			<s:HorizontalLayout gap="15" />
		</s:layout>
		<s:itemRenderer>
			<fx:Component>
				<s:DataRenderer width="218" height="183">
					<fx:Script>
						<![CDATA[
							import com.clarityenglish.common.model.interfaces.CopyProvider;
							
							[Bindable]
							public var copyProvider:CopyProvider;
							
							[Bindable("dataChange")]
							private function get fillColour():Number {
								return getStyle(data.@['class'] + 'Color');
							}
							
							[Bindable("dataChange")]
							private function get icon():Object {
								return getStyle(data.@['class'] + 'IconBare');
							}
						]]>
					</fx:Script>
					<s:Label text="{data.@caption}" fontSize="21" />
					
					<s:Rect left="0" right="0" top="21" bottom="0">
						<s:fill>
							<s:SolidColor color="{fillColour}" />
						</s:fill>
					</s:Rect>
					
					<s:SWFLoader source="{icon}" left="14" top="38" /> 
					
					<s:Label text="{copyProvider.getCopyForId('courseDurationRenderLabel')}" color="#FFFFFF" top="95" left="10" />
					<s:Label text="{copyProvider.getCopyForId('courseDurationRenderTime', { time: Math.floor(data.@duration / 60) })}" fontSize="24" color="#FFFFFF" top="120" left="10" />
				</s:DataRenderer>
			</fx:Component>
		</s:itemRenderer>
	</s:DataGroup>
	
</s:Skin>
