<?xml version="1.0"?>
<s:Skin xmlns:fx="http://ns.adobe.com/mxml/2009" xmlns:s="library://ns.adobe.com/flex/spark" xmlns:mx="library://ns.adobe.com/flex/mx">

    <fx:Metadata>
        [HostComponent("com.clarityenglish.bento.view.timer.TimerSettingView")]
    </fx:Metadata>

    <fx:Script>
        <![CDATA[

        private function getSessionDuration(value:String):String {
            if (timerSlider.getFocus() == timerSlider.getThumbAt(0)) {
                // return the duration of second session.
                return String(timerSlider.values[1] - Number(value));
            } else {
                // return the duration of the thirs session.
                return String(60 - Number(value));
            }
        }

        private function onTimerSliderChange():void {
            firstDurationLabel.text = timerSlider.values[0];
        }
        ]]>
    </fx:Script>

    <!-- states -->
    <s:states>
        <s:State name="disabled" />
        <s:State name="normal" />
    </s:states>

    <s:VGroup width="100%" height="100%" paddingLeft="20" paddingRight="20" paddingTop="20" paddingBottom="20">
        <s:Label id="firstDurationLabel" left="0" color="#000000" />
        <mx:HSlider id="timerSlider" thumbCount="2" width="600" tickInterval="5" snapInterval="1" minimum="0" dataTipFormatFunction="getSessionDuration" liveDragging="true" change="onTimerSliderChange()" />
        <s:HGroup width="100%">
            <s:Label id="instructinLabel" width="80%" />
            <s:Button id="startButton" />
            <s:Button id="closeButton" />
        </s:HGroup>
    </s:VGroup>
</s:Skin>
