<?xml version="1.0" encoding="utf-8"?>
<s:Skin xmlns:fx="http://ns.adobe.com/mxml/2009" 
		xmlns:s="library://ns.adobe.com/flex/spark" 
		xmlns:mx="library://ns.adobe.com/flex/mx"
		xmlns:login="skins.clearpronunciation.assets.login.*" 
		xmlns:home="skins.clearpronunciation.assets.home.*"
		creationComplete="onCreationComplete(event)"> 
	<!-- host component -->
	<fx:Metadata>
		[HostComponent("com.clarityenglish.rotterdam.view.login.LoginView")]
	</fx:Metadata>
	
	<fx:Script>
		<![CDATA[
			import mx.core.FlexGlobals;
			import mx.events.FlexEvent;
			
			/*
			private var _applicationHeight:Number;
			private var _applicationWidth:Number;
			
			[Bindable]
			public var applicationWidth:Number;
			
			[Bindable]
			public var applicationHeight:Number;
			*/
			
			protected function onCreationComplete(event:FlexEvent):void {
				//applicationWidth = FlexGlobals.topLevelApplication.width;
				//applicationHeight = FlexGlobals.topLevelApplication.height;
				
				//loadingRect.visible = false;
			}
		]]>
	</fx:Script>
	
	<fx:Script>
		<![CDATA[
			import flash.net.navigateToURL;
			
			protected function forgotPasswordHandler(event:MouseEvent):void {
				var substTags:Object = { productCode: hostComponent.config.productCode };
				substTags.rootID = (hostComponent.config.rootID) ? hostComponent.config.rootID : 0;
				substTags.loginOption = (isNaN(hostComponent.loginOption)) ? '' : hostComponent.loginOption;
				var urlReq:URLRequest = new URLRequest(hostComponent.getCopyProvider().getCopyForId("forgotPasswordLink", substTags ));
				navigateToURL(urlReq, "_new");
			}
		]]>
	</fx:Script>
	
	<!-- states -->
	<s:states>
		<s:State name="disabled" />
		<s:State name="normal" />
	</s:states>
	
	<!--Login screen background-->
	<!--
	<s:Rect id="backgroundRect" left="0" right="0" top="0" bottom="0">
		<s:fill>
			<s:BitmapFill source="@Embed('assets/SampleBackground.png')"/>
		</s:fill>
	</s:Rect>
	-->
	<s:Rect width="100%" height="100%">
		<s:fill>
			<s:RadialGradient y="300" scaleX="2000" scaleY="2000" >
				<s:GradientEntry ratio="0.00" color="#03BBC6"/>
				<s:GradientEntry ratio="0.25" color="#07B0D3"/>
				<s:GradientEntry ratio="0.44" color="#1295D3"/>
				<s:GradientEntry ratio="0.68" color="#097DC2"/>
				<s:GradientEntry ratio="0.97" color="#0D5AA9"/>
			</s:RadialGradient>
		</s:fill>
	</s:Rect>
	
	<home:homeBgBubbles top="300" left="300" />
	<home:homeBgBubbles top="350" left="350" />
	<home:homeBgBubbles top="100" left="-100" scaleX="2" scaleY="2" />
	<home:homeBgBubbles verticalCenter="-100" left="500" scaleX="1" scaleY="1" />
	<home:homeBgBubbles bottom="0" left="200" scaleX="2" scaleY="2" />
	
	<!-- CP1 logo -->
	<s:BitmapImage left="0" top="0" source="@Embed(source='skins/clearpronunciation/assets/login/loginLogo.png')" />
	
	<!-- footer (sits on top of application skin footer) -->
	<s:Group left="0" bottom="44" width="100%">
		<!-- 
		-->
		<s:BitmapImage left="200" bottom="40" width="100%" fillMode="repeat" source="@Embed(source='skins/clearpronunciation/assets/login/waveformFull.png')" /> 
		<s:BitmapImage left="0" bottom="0" source="@Embed(source='skins/clearpronunciation/assets/login/loginGirl.png')" />
	</s:Group>
	
	<s:Group id="loginBoxGroup" width="410" height="287" verticalCenter="0" horizontalCenter="0">
		<!-- gh#224 -->
		<s:Rect width="100%" height="100%" radiusX="20" radiusY="20" >
			<s:fill>
				<s:SolidColor color="#263A45"/>
			</s:fill>
		</s:Rect>
		
		<s:VGroup horizontalCenter="0">
			<s:Spacer height="20" />
			<s:VGroup width="250" >
				<s:Label id="loginKey_lbl" fontSize="16" fontWeight="bold" fontFamily="MyriadPro" color="0xFFFFFF" text="{hostComponent.loginKey_lbl}"/>
				<!--  -->
				<s:TextInput id="loginKeyInput" fontSize="14" height="35" width="100%" borderVisible="false"/>
			</s:VGroup>
			<s:Spacer height="10" />
			<s:VGroup width="250" >
				<s:Label id="loginPassword_lbl" fontSize="16" fontWeight="bold" fontFamily="MyriadPro" color="0xFFFFFF" text="{hostComponent.loginPassword_lbl}" />
				<s:TextInput id="passwordInput" displayAsPassword="true" width="100%" height="35" fontSize="14" fontWeight="bold" borderVisible="false"/>
				<s:Button id="forgotPassword_btn" fontWeight="normal" label="{hostComponent.forgotPassword_lbl}" click="forgotPasswordHandler(event)" useHandCursor="true" buttonMode="true" />
			</s:VGroup>
			<s:Spacer height="10" />
		</s:VGroup>
		<s:Button id="loginButton" horizontalCenter="0" bottom="0" label="{hostComponent.getCopyProvider().getCopyForId('loginButton')}" />
	</s:Group>
	<login:ClarityEnglishLogo horizontalCenter="0" verticalCenter="200" />
	
	<!--
	<s:Rect id="loadingRect" width="100%" height="100%">
	<s:fill>
	<s:SolidColor color="#FFFFFF" />
	</s:fill>
	</s:Rect>
	-->
</s:Skin>
